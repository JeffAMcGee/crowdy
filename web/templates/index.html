{% extends 'base.html' %}

{% block head_extra %}
<script src="http://static.simile.mit.edu/timeline/api-2.3.0/timeline-api.js?bundle=true" type="text/javascript"></script>
<link rel="stylesheet" href="/static/css/mystyle.css" type="text/css" />
<script src="/static/scripts/local_data.js" type="text/javascript"></script>

<script>
$(document).ready(function() {
    onLoad();
    $(window).resize(onResize());
});

var tl;
function onLoad() {
    var tl_el = document.getElementById("tl");
    var eventSource1 = new Timeline.DefaultEventSource();

    var theme1 = Timeline.ClassicTheme.create();
    theme1.autoWidth = true; // Set the Timeline's "width" automatically.
                             // Set autoWidth on the Timeline's first band's theme,
                             // will affect all bands.
    theme1.timeline_start = new Date(Date.UTC(1890, 0, 1));
    theme1.timeline_stop  = new Date(Date.UTC(2160, 0, 1));

    var d = Timeline.DateTime.parseGregorianDateTime("1900")
    var bandInfos = [
        Timeline.createBandInfo({
            width:          45, // set to a minimum, autoWidth will then adjust
            intervalUnit:   Timeline.DateTime.DECADE,
            intervalPixels: 200,
            eventSource:    eventSource1,
            date:           d,
            theme:          theme1,
            layout:         'original'  // original, overview, detailed
        })
    ];

    // create the Timeline
    tl = Timeline.create(tl_el, bandInfos, Timeline.HORIZONTAL);

    var url = '.'; // The base url for image, icon and background image
                   // references in the data
    eventSource1.loadJSON(timeline_data, url); // The data was stored into the
                                               // timeline_data variable.
    tl.layout(); // display the Timeline
}

var resizeTimerID = null;
function onResize() {
    if (resizeTimerID == null) {
        resizeTimerID = window.setTimeout(function() {
            resizeTimerID = null;
            tl.layout();
        }, 500);
    }
}
</script>
{% endblock %}

{% block content %}
    <div class="timelineC">
        <div id='tl'></div>
    </div>
    <div class="workspaceC">
        temp workspace box <br>
        <ul id="favorite">
            <li>item 1</li>
        </ul>
    </div>
{% endblock %}

